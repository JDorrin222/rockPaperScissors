<!DOCTYPE html>
<html>

<head>
</head>

<body>
  <div id="playerChoice">
    <button id="rock" onclick="game('rock')">rock</button>
    <button id="paper" onclick="game('paper')">paper</button>
    <button id="scissors" onclick="game('scissors')">scissors</button>
  </div>

  <div class="counterBox">
    Player: <span id="winCounterPlayer">0</span>
    Computer: <span id="winCounterComputer">0</span>
    Draw: <span id="drawCount">0</span>
  </div>

  <div id="winnerAnnounceBox"> </div>





  <script>

function computerPlay() {
  let n = Math.floor(Math.random()*3)+1;
  if(n === 1){
  return "rock";
  }
  else if (n ===2 ) {
     return "paper";
  }
  else if (n === 3) {
  return "scissors";
  }
}

function countComputerPlay() {

let r = 0;
let p = 0;
let s = 0;
  for(i = 0; i < 100; i++) {
    let result = computerPlay();
      if (result === "rock") {
        r++;
      }
      else if (result === "paper") {
        p++;
      }
      else {
        s++;
      }
    }
  return("rock: " + r + " paper " + p + " scissors " + s);
}
function playRound(playerSelection, computerSelection){
  let result;
  // case player selection = rock
  if (playerSelection === "rock"){
      if(computerSelection === "rock"){
        result = "tie";
      } else if (computerSelection === "paper") {
          result = "lose";
      } else {
        result = "win";
      }
  }
  if (playerSelection === "paper") {
      if(computerSelection === "rock"){
        result = "win";
      } else if (computerSelection === "paper") {
          result = "tie";
      } else {
          result = "lose";
      }
  }
  if (playerSelection === "scissors") {
      if(computerSelection === "rock"){
      result = "lose";
      } else if (computerSelection === "paper") {
        result = "win";
      } else {
      result = "tie";
      }
  }

  return result;
}

let c = 0; // computer score
let p = 0; // player score
let t = 0; // tie

function game(playerSelection){
  let computerSelection = computerPlay();

    let results = playRound(playerSelection, computerSelection);
    if (results === "win"){
      p++;
    } else if(results === "lose"){
      c++;
    }else{
      t++;
    }
    updateScoreboard();
    displayWinner();
}

function resetScore(){
  c = 0;
  t = 0;
  p = 0;
}

function displayWinner(){
  if (c >= 5){
    document.getElementById('winnerAnnounceBox').innerHTML = "you lose";
    resetScore();
  }

  else if (p >= 5) {
    document.getElementById('winnerAnnounceBox').innerHTML = "you win";
    resetScore();
  } else {
    document.getElementById('winnerAnnounceBox').innerHTML = "first to 5 wins";
  }
}


function updateScoreboard(){
  document.getElementById('winCounterComputer').innerHTML = c;
  document.getElementById('winCounterPlayer').innerHTML = p;
  document.getElementById('drawCount').innerHTML = t;
}

  </script>
</body>
</html>
